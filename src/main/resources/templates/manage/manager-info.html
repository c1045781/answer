<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>管理员个人信息</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="keywords" content=""/>
    <script type="application/x-javascript"> addEventListener("load", function () {
        setTimeout(hideURLbar, 0);
    }, false);

    function hideURLbar() {
        window.scrollTo(0, 1);
    } </script>
    <!-- //custom-theme -->
    <link href="/css/bootstrap.css" rel="stylesheet" type="text/css" media="all"/>
    <link href="/css/component.css" rel="stylesheet" type="text/css" media="all"/>
    <link href="/css/style_grid.css" rel="stylesheet" type="text/css" media="all"/>
    <link href="/css/style.css" rel="stylesheet" type="text/css" media="all"/>
    <link href="/css/answer.css" rel="stylesheet" type="text/css" media="all"/>
    <link href="/css/bootstrap-fileinput.css" rel="stylesheet" type="text/css" media="all"/>
    <!-- font-awesome-icons -->
    <link href="/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/themify-icons.css">
    <link rel="stylesheet" href="/css/owl.carousel.css">
    <link rel="stylesheet" href="/css/owl.theme.css">
    <link rel="stylesheet" href="/css/owl.transitions.css">
    <link rel="stylesheet" href="/css/slick.css">
    <link rel="stylesheet" href="/css/slider-pro.min.css">
    <!--<link rel="stylesheet" href="/css/jquery.mCustomScrollbar.css">-->
    <link rel="stylesheet" href="/css/animate.css">
    <link rel="stylesheet" href="/css/index-style.css">
    <link rel="stylesheet" href="/css/woocommerce.css">
    <link rel="stylesheet" href="/css/woocommerce-layout.css">
    <link rel="stylesheet" href="/css/woocommerce-smallscreen.css" type="text/css"
          media="only screen and (max-width: 768px)">
</head>
<body>
<div class="wthree_agile_admin_info">
    <div th:insert="~{manage/navigation :: nav}"></div>

    <div class="clearfix"></div>
    <!-- //w3_agileits_top_nav-->

    <!-- /inner_content-->
    <div class="inner_content">
        <!-- /inner_content_w3_agile_info-->

        <!-- breadcrumbs -->
        <div class="w3l_agileits_breadcrumbs">
            <div class="w3l_agileits_breadcrumbs_inner">
                <ul>
                    <li>首页<span>»</span></li>
                    <li>管理员个人信息</li>
                </ul>
            </div>
        </div>
        <!-- //breadcrumbs -->

            <section class="widget kopa-widget-testimonials">
                <div id="showInfo" class="widget-content module-testimonials-05 js-carousel owl-carousel owl-theme" style="opacity: 1; display: block;">
                    <div class="owl-wrapper-outer">
                        <div class="owl-wrapper" style="display: block;">
                            <div class="owl-item" style="width: 100%;">
                                <div class="item-testi">
                                    <div class="thumb">
                                        <a href="#">
                                            <img id="showAvatarImgUrl" alt="" th:src="@{/root/answer/{url}(url=${myUser.avatarImgUrl})}" style="height: 50px;">
                                        </a>
                                    </div>
                                    <div class="content">
                                        <input type="hidden" id="showUserId" th:value="${myUser.userId}">
                                        <p id="showUsername" th:text="${'账号：'+myUser.username}"></p>
                                        <p id="showNickname" th:text="${'昵称：'+myUser.nickname}"></p>
                                        <p id="showPhone" th:text="${'手机号：'+myUser.phone}"></p>
                                        <p id="showSex" th:text="${'性别：'+ myUser.sex}"></p>
                                        <p id="showDescription" th:text="${'自我介绍：'+ myUser.description}"></p>
                                        <a href="javascript:void(0)" onclick="modifyInfo()">修改</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <div class="course-author" id="modifyInfo" style="display: none">
                <div class="inner_content_w3_agile_info two_in">
                    <div class="agile-grids">
                        <!-- validation -->
                        <div class="grids">
                            <div class="forms-grids">
                                <div class="w3agile-validation w3ls-validation">
                                    <div class="agile-validation agile_info_shadow">
                                        <div class="form-div">
                                            <div class="validation-grids widget-shadow" data-example-id="basic-forms">
                                                <div class="input-info">
                                                    <h3 class="w3_inner_tittle two">编辑用户：</h3>
                                                </div>
                                                <div class="alert alert-danger" role="alert" th:if="${message != null}">
                                                    <strong th:text="${message}"></strong>
                                                </div>
                                                <div class="form-body form-body-info">
                                                    <form data-toggle="validator" novalidate="true" action="/manager/user/addOrUpdate" method="post" enctype="multipart/form-data">
                                                        <input type="hidden" name="userId" id="userId">
                                                        <input type="hidden" id="username" name="username">
                                                        <div class="form-group valid-form col-xs-12 col-md-12 col-sm-12">
                                                            <label class="col-xs-2 col-md-2 col-sm-2 control-label">昵称：</label>
                                                            <div class="col-xs-8 col-md-8 col-sm-8">
                                                                <input type="text" class="form-control" id="nickname" name="nickname" required="">
                                                                <div class="help-block with-errors"></div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group valid-form col-xs-12 col-md-12 col-sm-12">
                                                            <label class="col-xs-2 col-md-2 col-sm-2 control-label">性别：</label>
                                                            <div class="col-xs-8 col-md-8 col-sm-8">
                                                                <select id="sex" name="sex" class="form-control" style="height: 50px;">
                                                                    <option >男</option>
                                                                    <option >女</option>
                                                                </select>
                                                            </div></div>
                                                        <div class="form-group valid-form col-xs-12 col-md-12 col-sm-12">
                                                            <label class="col-xs-2 col-md-2 col-sm-2 control-label">手机号：</label>
                                                            <div class="col-xs-8 col-md-8 col-sm-8">
                                                                <input type="text" class="form-control" id="phone" name="phone"
                                                                       required="">
                                                                <div class="help-block with-errors"></div>
                                                            </div></div>
                                                        <div class="form-group col-xs-12 col-md-12 col-sm-12">
                                                            <label class="col-xs-2 col-md-2 col-sm-2 control-label">上传头像：</label>
                                                            <div class="col-xs-8 col-md-8 col-sm-8">
                                                                <div class="fileinput fileinput-new" data-provides="fileinput" id="uploadImageDiv">
                                                                    <div class="fileinput-new thumbnail" style="width: 200px; height: 150px;">
                                                                        <img id="avatarImgUrl" alt="" />
                                                                        <!--<img src="${companyInfo.image}" alt="" />-->
                                                                    </div>
                                                                    <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 200px; max-height: 150px;"></div>
                                                                    <div>
                                                                <span class="btn default btn-file"> <span class="fileinput-new">选择图片</span>
                                                                <span class="fileinput-exists">更改</span> <input type="file" name="avatarImg" id="avatarImg" /></span>
                                                                        <a href="#" class="btn default fileinput-exists" data-dismiss="fileinput">移除</a>
                                                                        <span>请选择1M以内图片</span>
                                                                    </div>
                                                                </div>
                                                                <div id="titleImageError" style="color: #a94442"></div>
                                                            </div></div>
                                                        <div class="form-group col-xs-12 col-md-12 col-sm-12">
                                                            <label class="col-xs-2 col-md-2 col-sm-2 control-label">自我描述：</label>
                                                            <div class="col-xs-8 col-md-8 col-sm-8">
                                                                <div class="">
                                                                    <textarea style="width: 100%" name="description" id="description" cols="70" rows="5" ></textarea>
                                                                </div>
                                                            </div></div>
                                                        <div class="form-group">
                                                            <button type="submit" style="width: 20%;margin-left: 20%;" class="btn btn-primary">
                                                                修改
                                                            </button>
                                                            <button type="button" onclick="showInfo()" style="float: right;width: 20%;margin-right: 20%;position: relative;" class="btn btn-primary">
                                                                返回
                                                            </button>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--<div class="content">
                    <section class="widget kopa-widget-advanced_search">
                        <div class="alert alert-danger" role="alert" th:if="${message != null}">
                            <strong th:text="${message}"></strong>
                        </div>
                        <div class="widget-content module-advanced_search-03">
                            <form data-toggle="validator" id="infoForm" novalidate="true" method="post" enctype="multipart/form-data">
                                <input type="hidden" id="userId" name="userId">
                                <input type="hidden" id="username" name="username">
                                <div class="form-group valid-form col-xs-12 col-md-12 col-sm-12">
                                    <label class="col-xs-2 col-md-2 col-sm-2 control-label">昵称：</label>
                                    <div class="col-xs-8 col-md-8 col-sm-8">
                                        <input type="text" class="form-control"
                                               id="nickname" name="nickname" required="">
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                                <div class="form-group valid-form col-xs-12 col-md-12 col-sm-12">
                                    <label class="col-xs-2 col-md-2 col-sm-2 control-label">性别：</label>
                                    <div class="col-xs-8 col-md-8 col-sm-8">
                                        <select id="sex" name="sex" class="form-control"
                                                style="height: 50px;">
                                            <option>男</option>
                                            <option>女</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group valid-form col-xs-12 col-md-12 col-sm-12">
                                    <label class="col-xs-2 col-md-2 col-sm-2 control-label">手机号：</label>
                                    <div class="col-xs-8 col-md-8 col-sm-8">
                                        <input type="text" class="form-control" id="phone" name="phone" required="">
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                                <div class="form-group col-xs-12 col-md-12 col-sm-12">
                                    <label class="col-xs-2 col-md-2 col-sm-2 control-label">头像：</label>
                                    <div class="col-xs-8 col-md-8 col-sm-8">
                                        <div class="fileinput fileinput-new"
                                             data-provides="fileinput" id="uploadImageDiv">
                                            <div class="fileinput-new thumbnail"
                                                 style="width: 200px; height: 150px;">
                                                <img id="avatarImgUrl" alt=""/>
                                                &lt;!&ndash;<img src="${companyInfo.image}" alt="" />&ndash;&gt;
                                            </div>
                                            <div class="fileinput-preview fileinput-exists thumbnail"
                                                 style="max-width: 200px; max-height: 150px;"></div>
                                            <div><span class="btn default btn-file"> <span class="fileinput-new">选择图片</span>
                                                                <span class="fileinput-exists">更改</span> <input type="file" name="avatarImg" id="avatarImg"/></span>
                                                <a href="#" id="fileinputA"class="btn default fileinput-exists"data-dismiss="fileinput">移除</a>
                                                <span>请选择1M以内图片</span>
                                            </div>
                                        </div>
                                        <div id="titleImageError"style="color: #cfe8fc"></div>
                                    </div>
                                </div>
                                <div class="form-group col-xs-12 col-md-12 col-sm-12">
                                    <label class="col-xs-2 col-md-2 col-sm-2 control-label">自我描述：</label>
                                    <div class="col-xs-8 col-md-8 col-sm-8">
                                        <div class=""><textarea style="width: 100%" name="description"id="description" cols="70"rows="5"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <button type="button" onclick="submitInfoManager()" style="width: 20%;margin-left: 20%;" class="btn btn-primary">
                                        修改
                                    </button>
                                    <button type="button" onclick="showInfo()" style="float: right;width: 20%;margin-right: 20%;position: relative;top: -45px;" class="btn btn-primary">
                                        返回
                                    </button>
                                </div>
                            </form>
                        </div>
                    </section>
                </div>-->
            </div>

        <!--<div class="inner_content_w3_agile_info two_in">
            <div class="agile-grids">
                &lt;!&ndash; validation &ndash;&gt;
                <div class="grids">
                    <div class="forms-grids">
                        <div class="w3agile-validation w3ls-validation">
                            <div class="agile-validation agile_info_shadow">
                                <div class="form-div">
                                    <div class="validation-grids widget-shadow" data-example-id="basic-forms">
                                        <div class="input-info">
                                            <h3 class="w3_inner_tittle two">个人信息：</h3>
                                        </div>
                                        <div class="alert alert-danger" role="alert" th:if="${message != null}">
                                            <strong th:text="${message}"></strong>
                                        </div>
                                        <div class="form-body form-body-info">
                                            <form data-toggle="validator" novalidate="true" action="/manager/user/addOrUpdate" method="post" enctype="multipart/form-data">
                                                <div class="form-group valid-form col-xs-12 col-md-12 col-sm-12">
                                                    <label class="col-xs-2 col-md-2 col-sm-2 control-label">账号：</label>
                                                    <div class="col-xs-8 col-md-8 col-sm-8">
                                                    <input type="hidden" th:if="${myUser!=null && myUser.userId != null}" th:value="${myUser.userId}" name="userId">
                                                    <input th:if="${myUser!=null && myUser.userId != null }" th:value="${myUser.username}" readonly type="text" class="form-control" id="username" name="username" placeholder="账号" required="">
                                                    <input th:if="${myUser!=null && myUser.userId == null }" th:value="${myUser.username}" type="text" class="form-control" id="username" name="username" placeholder="账号" required="">
                                                    <div class="help-block with-errors"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group valid-form col-xs-12 col-md-12 col-sm-12">
                                                    <label class="col-xs-2 col-md-2 col-sm-2 control-label">昵称：</label>
                                                    <div class="col-xs-8 col-md-8 col-sm-8">
                                                    <input th:value="${myUser!=null?myUser.nickname:''}" type="text" class="form-control" id="nickname" name="nickname" required="">
                                                    <div class="help-block with-errors"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group valid-form col-xs-12 col-md-12 col-sm-12">
                                                    <label class="col-xs-2 col-md-2 col-sm-2 control-label">性别：</label>
                                                    <div class="col-xs-8 col-md-8 col-sm-8">
                                                <select id="sex" name="sex" class="form-control" style="height: 50px;">
                                                    <option th:selected="${myUser!=null?myUser.sex == '男':false}">男</option>
                                                    <option th:selected="${myUser!=null?myUser.sex == '女':false}">女</option>
                                                </select>
                                                    </div></div>
                                                <div class="form-group valid-form col-xs-12 col-md-12 col-sm-12">
                                                    <label class="col-xs-2 col-md-2 col-sm-2 control-label">手机号：</label>
                                                    <div class="col-xs-8 col-md-8 col-sm-8">
                                                    <input th:value="${myUser!=null?myUser.phone:''}" type="text" class="form-control" id="phone" name="phone"
                                                           required="">
                                                    <div class="help-block with-errors"></div>
                                                    </div></div>
                                                <div class="form-group col-xs-12 col-md-12 col-sm-12">
                                                    <label class="col-xs-2 col-md-2 col-sm-2 control-label">上传头像：</label>
                                                    <div class="col-xs-8 col-md-8 col-sm-8">
                                                        <div class="fileinput fileinput-new" data-provides="fileinput" id="uploadImageDiv">
                                                            <div class="fileinput-new thumbnail" style="width: 200px; height: 150px;">
                                                                <img th:if="${myUser!=null && myUser.userId != null}" th:src="${myUser.avatarImgUrl}"  alt="" />
                                                                &lt;!&ndash;<img src="${companyInfo.image}" alt="" />&ndash;&gt;
                                                            </div>
                                                            <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 200px; max-height: 150px;"></div>
                                                            <div>
                                                                <span class="btn default btn-file"> <span class="fileinput-new">选择图片</span>
                                                                <span class="fileinput-exists">更改</span> <input type="file" name="avatarImg" id="avatarImg" /></span>
                                                                <a href="#" class="btn default fileinput-exists" data-dismiss="fileinput">移除</a>
                                                                <span>请选择1M以内图片</span>
                                                            </div>
                                                        </div>
                                                        <div id="titleImageError" style="color: #a94442"></div>
                                                    </div></div>
                                                <div class="form-group col-xs-12 col-md-12 col-sm-12">
                                                    <label class="col-xs-2 col-md-2 col-sm-2 control-label">自我描述：</label>
                                                    <div class="col-xs-8 col-md-8 col-sm-8">
                                                    <div class="">
                                                        <textarea style="width: 100%" th:text="${myUser!=null?myUser.description:''}" name="description" id="description" cols="70" rows="5" ></textarea>
                                                    </div>
                                                    </div></div>
                                                <div class="form-group valid-form col-xs-12 col-md-12 col-sm-12">
                                                    <label class="col-xs-2 col-md-2 col-sm-2 control-label">用户类型：</label>
                                                    <div class="col-xs-8 col-md-8 col-sm-8">
                                                    <div class="radio">
                                                        <label th:if="${myUser!=null} and ${myUser.role == 0}">
                                                            <input th:if="${myUser!=null}" disabled th:checked="${myUser.role==0?true:false}" type="radio" name="role" required="" value="0">
                                                            超级管理员
                                                        </label>
                                                        <label>
                                                            <input th:if="${myUser!=null}" disabled th:checked="${myUser.role==1?true:false}" type="radio" name="role" required="" value="1">
                                                            管理员
                                                        </label>
                                                        <label>
                                                            <input th:if="${myUser!=null}" disabled th:checked="${myUser.role==2?true:false}" type="radio" name="role" required="" value="2">
                                                            一般用户
                                                        </label>
                                                        <label>
                                                            <input th:if="${myUser!=null}" disabled th:checked="${myUser.role==3?true:false}" type="radio" name="role" required="" value="3">
                                                            特殊用户
                                                        </label>
                                                    </div></div>
                                                </div>
                                                <div class="form-group">
                                                    <button type="submit" class="btn btn-primary disabled">修改</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>-->
    </div>
    <div th:insert="~{foot :: foot}"></div>
</div>

<script type="text/javascript" src="/js/jquery-2.1.4.min.js"></script>
<script src="/js/modernizr.custom.js"></script>
<script src="/js/answer.js"></script>

<script src="/js/classie.js"></script>
<script src="/js/gnmenu.js"></script>
<script src="/js/bootstrap-fileinput.js"></script>
<script>
    new gnMenu(document.getElementById('gn-menu'));
</script>

<!-- 上传图片 -->
<!--<script>
    var url = '';
    $("#uploadImage").fileupload({
        url : ROOT + "/security/company/uploadFile",
        dataType : 'json',
        autoUpload : false,
        acceptFileTypes : /(gif|jpe?g|png)$/i,
        maxFileSize : 1000000, // 1 MB
        imageMaxWidth : 100,
        imageMaxHeight : 100,
        messages : {
            acceptFileTypes : '文件类型不匹配',
            maxFileSize : '文件过大',
            minFileSize : '文件过小'
        }
    }).on("fileuploadadd", function(e, data) {
        // 当文件添加上去时候调用
        $("#titleImageError").html("");
        data.submit()
    }).on("fileuploaddone", function(e, data) {
        // 上传完成时调用
        if (data.result.returnState == "ERROR") {
            alert("上传失败")
            return;
        }
        url = data.result.returnData.url;
    });

    function updateMsg() {
        $.ajax({
            url : ROOT + "/security/company/updateInfo",
            data : {
                id : $("#companyId").val(),
                image : url,
                companyName : $("#companyName").val(),
                companySite : $("#companySite").val(),
                companyLinker : $("#companyLinker").val(),
                companyTel : $("#companyTel").val()
            },
            type : "post",
            success : function(data) {
                if (data.returnState == "OK") {
                    layer.msg('操作成功', {
                        icon : 6,
                        shade : 0.01,
                        offset : [ '57px', '1100px' ]
                    });
                    $table.bootstrapTable('refresh');
                } else {
                    layer.msg('操作失败', {
                        icon : 5,
                        shade : 0.01,
                        offset : [ '90px', '900px' ]
                    });
                }
            }
        });
    }
</script>-->

<!-- input-forms -->
<script type="text/javascript" src="/js/valida.2.1.6.min.js"></script>
<script type="text/javascript">

    $(document).ready(function () {

        $('#version').valida('version');

        $('.valida').valida();

        $('#partial-1').on('click', function (ev) {
            ev.preventDefault();
            $('#res-1').click(); // clear form error msgs
            $('form').valida('partial', '#field-1'); // validate only field-1
            $('form').valida('partial', '#field-1-3'); // validate only field-1-3
        });

    });

</script>
<script src="/js/validator.min.js"></script>
<script src="/js/screenfull.js"></script>
<script>
    $(function () {
        $('#supported').text('Supported/allowed: ' + !!screenfull.enabled);

        if (!screenfull.enabled) {
            return false;
        }


        $('#toggle').click(function () {
            screenfull.toggle($('#container')[0]);
        });
    });
</script>
<script src="/js/jquery.nicescroll.js"></script>
<script src="/js/scripts.js"></script>

<script type="text/javascript" src="/js/bootstrap-3.1.1.min.js"></script>
</body>
</html>